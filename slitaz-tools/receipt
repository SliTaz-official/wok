# SliTaz package receipt.

PACKAGE="slitaz-tools"
VERSION="1.9.4"
CATEGORY="system-tools"
SHORT_DESC="SliTaz tools provide installer and Tinyutils."
MAINTAINER="pankso@slitaz.org"
DEPENDS="slitaz-boot-scripts dialog"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://www.slitaz.org/"
WGET_URL="http://download.tuxfamily.org/slitaz/sources/tools/$TARBALL"

# Rules to gen a SliTaz package suitable for Tazpkg.
#
# This package is all build by genpkg, it provide /usr/share/examples tree,
# tazlito, tinyutils, licenses, documentation and artwork. This package
# provide also the Firewall deamon/config (/etc/firewall.conf).
#
genpkg_rules()
{
	mkdir -p $fs/sbin $fs/usr/bin \
		$fs/usr/sbin $fs/var/spool/cron/crontabs \
		$fs/usr/share
	
	# /rootfs/*. Firewall exemples, licenses and pixmaps.
	cp -a $src/rootfs/* $fs

	# Tinyutils.
	#
	cp -a $src/tinyutils/tazlocale $fs/sbin
	cp -a $src/tinyutils/tazkmap $fs/sbin
	cp -a $src/tinyutils/gztazmod.sh $fs/sbin
	cp -a $src/tinyutils/tazx $fs/usr/bin
	cp -a $src/tinyutils/startx $fs/usr/bin
	cp -a $src/tinyutils/history $fs/usr/bin
	
	# Gtkdialog boxes
	cp -a $src/tinyutils/burnbox $fs/usr/bin
	cp -a $src/tinyutils/jwmbgconf $fs/usr/bin
	cp -a $src/tinyutils/mountbox $fs/usr/bin
	cp -a $src/tinyutils/netbox $fs/usr/bin
	cp -a $src/tinyutils/scpbox $fs/usr/bin
	cp -a $src/tinyutils/subox $fs/usr/bin
	cp -a $src/tinyutils/gksu $fs/usr/bin
	cp -a $src/stuff/desktop-files $fs/usr/share/applications
	
	# Tazlito Box
	cp -a $src/tinyutils/tazlitobox $fs/usr/bin
	
	# Sound config
	cp -a $src/tinyutils/soundconf $fs/usr/sbin
	
	# Installer's
	cp -a $src/tinyutils/slitaz-installer.sh $fs/usr/bin
	cp -a $src/installer/slitaz-installer $fs/usr/bin
	
	# Tools doc in /usr/share/doc/slitaz-tools
	#
	mkdir -p $fs/usr/share/doc/slitaz-tools
	cp $src/doc/tazx.txt $fs/usr/share/doc/slitaz-tools
	
	chown -R root.root $fs
	chmod -R 755 $fs/usr/bin
	chmod -R 755 $fs/sbin
}
