# SliTaz package receipt.

PACKAGE="freeglut"
VERSION="2.4.0"
CATEGORY="x-window"
SHORT_DESC="OpenGL utility toolkit."
MAINTAINER="b1+slitaz@nagel.org"
DEPENDS="glibc-base gcc-lib-base libdrm libgl libglu \
xorg-libX11 xorg-libXau xorg-libXdamage xorg-libXdmcp \
xorg-libXext xorg-libXfixes xorg-libXxf86vm"
BUILD_DEPENDS="slitaz-toolchain mesa-dev mesa \
xorg-xproto xorg-libX11-dev xorg-libXau-dev xorg-libXdmcp-dev"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://freeglut.sourceforge.net/"
WGET_URL="$SF_MIRROR/$PACKAGE/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	cd $src
	sed -i 's/-Werror//' configure
	./configure --prefix=/usr $CONFIGURE_ARGS
	sed -i '/XF86VMODE/d' config.status
	make
	make DESTDIR=$src/_pkg install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/lib
	cp -a $_pkg/usr/lib/*.so* $fs/usr/lib
	strip -s $fs/usr/lib/*
}
