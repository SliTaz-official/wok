# SliTaz package receipt.

PACKAGE="usbip-module"
VERSION="0.1.7"
CATEGORY="base-system"
SHORT_DESC="general USB device sharing system over IP network, kernel modules."
MAINTAINER="pascal.bellard@slitaz.org"
DEPENDS="linux"
WEB_SITE="http://usbip.sourceforge.net/"
WANTED="usbip"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	kver=$(grep "kernel version" ../linux/$(ls ../linux/taz)/.config)
	kver=${kver##* }
	EXTRAVERSION=_$kver
	cp -a $_pkg/lib $fs
}

# Post install/remove commands for Tazpkg.
post_install()
{
	chroot "$1/" depmod -a ${EXTRAVERSION#_}-slitaz
}

post_remove()
{
	depmod -a
}
