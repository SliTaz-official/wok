# SliTaz package receipt.

PACKAGE="kbd-busybox"
VERSION="1.0"
CATEGORY="base-system"
SHORT_DESC="Keyboard maping definitions for busybox."
MAINTAINER="pascal.bellard@slitaz.org"
BUILD_DEPENDS="kbd-base busybox"
WEB_SITE="http://www.slitaz.org/"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share/kmap
	dumpkmap > /tmp/current.kmap
	for i in $(cd /usr/share/kbd/keymaps/i386 ; ls */*.map.gz); do
		[ "$(dirname $i)" = "include" ] && continue
		i=$(basename $i)
		i=${i%.map.gz}
		loadkeys $i
		dumpkmap > $fs/usr/share/kmap/$i.kmap
	done
	loadkmap < /tmp/current.kmap
	rm -f /tmp/current.kmap
}

