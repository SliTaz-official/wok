# SliTaz package receipt.

PACKAGE="thunderbird-langpack-fr"
VERSION="3.1.6"
CATEGORY="network"
SHORT_DESC="locale for mozilla thunderbird"
MAINTAINER="domcox@slitaz.org"
DEPENDS="thunderbird"
SOURCE="thunderbird"
WEB_SITE="http://www.mozillamessaging.com/"
LANG=`echo $PACKAGE | cut -d'-' -f3 | tr '_' '-'`
LANG_DIR="langpack-$LANG@thunderbird.mozilla.org"
TARBALL="$LANG.xpi"
URL="ftp://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/$VERSION/linux-i686/xpi/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	cd $WOK/$PACKAGE
	
	# Get xpi
	if [ -f $SOURCES_REPOSITORY/$PACKAGE-$VERSION.xpi ]; then
		echo "Using current langpack ($PACKAGE-$VERSION.xpi)"
	else
		echo "Downloading langpack ($PACKAGE-$VERSION.xpi)"
		wget -O $SOURCES_REPOSITORY/$PACKAGE-$VERSION.xpi $URL
	fi
	# Uncompress
	echo -n "Uncompressing langpack ($PACKAGE-$VERSION.xpi)"
	mkdir -p $LANG_DIR && unzip -oq $SOURCES_REPOSITORY/$PACKAGE-$VERSION.xpi -d $LANG_DIR
	status
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	EXTDIR="$fs/usr/lib/$SOURCE-$VERSION/extensions"
	mkdir -p $EXTDIR
	cp -a $LANG_DIR $EXTDIR
}
