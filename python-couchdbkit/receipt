# SliTaz package receipt.

PACKAGE="python-couchdbkit"
SOURCE="couchdbkit"
VERSION="0.3.1"
CATEGORY="development"
SHORT_DESC="A framework for python applications to access and manage CouchDB"
MAINTAINER="claudinei@slitaz.org"
TARBALL="$PACKAGE-$VERSION.tgz"
WEB_SITE="http://www.couchdbkit.org"
WGET_URL="http://bitbucket.org/benoitc/$SOURCE/get/$VERSION.gz"

DEPENDS="python couchdb python-simplejson python-restclient"
BUILD_DEPENDS="python python-dev setuptools"

# Rules to configure and make the package.
compile_rules()
{
	cd $src
	python setup.py install --root=$DESTDIR
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	PYTHON_LIB=python$(grep ^VERSION= $WOK/python/receipt | sed 's/.*"\(...\).*/\1/')
	mkdir -p $fs/usr
	rm -f $install/usr/lib/$PYTHON_LIB/site-packages/tests/*
	rmdir $install/usr/lib/$PYTHON_LIB/site-packages/tests
	cp -a $install/usr $fs
}

