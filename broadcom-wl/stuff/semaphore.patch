diff -aur bla/src/wl/sys/wl_iw.h bla.new/src/wl/sys/wl_iw.h
--- bla/src/wl/sys/wl_iw.h	2010-02-06 02:59:15.000000000 +0100
+++ bla.new/src/wl/sys/wl_iw.h	2010-08-07 23:17:35.368641722 +0200
@@ -15,6 +15,7 @@
 #ifndef _wl_iw_h_
 #define _wl_iw_h_
 
+#include <linux/semaphore.h>
 #include <linux/wireless.h>
 
 #include <typedefs.h>
