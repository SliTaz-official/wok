# SliTaz package receipt.

PACKAGE="slitaz-tools-boxes"
VERSION="3.9.3"
CATEGORY="system-tools"
SHORT_DESC="All SliTaz GTKdialog boxes to command line tools."
MAINTAINER="pankso@slitaz.org"
DEPENDS="slitaz-tools gtkdialog gettext-base"
WANTED="slitaz-tools"
WEB_SITE="http://www.slitaz.org/"
CONFIG_FILES="/etc/wireless"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p \
		$fs/etc/wireless \
		$fs/usr/bin \
		$fs/usr/sbin \
		$fs/usr/lib/slitaz \
		$fs/usr/share/locale \
		$fs/usr/share/slitaz/messages/en \
		$fs/usr/share/doc/slitaz-tools
	# Desktop files, icons and doc.
	cp -a $src/rootfs/usr/share/applications $fs/usr/share
	cp -a $src/rootfs/usr/share/pixmaps $fs/usr/share
	cp -a $src/doc/*.html $fs/usr/share/doc/slitaz-tools
	# Gtkdialog boxes.
	cp -a $src/tinyutils/bootfloppybox $fs/usr/bin
	cp -a $src/tinyutils/burnbox $fs/usr/bin
	cp -a $src/tinyutils/mountbox $fs/usr/bin
	cp -a $src/tinyutils/netbox $fs/usr/bin
	cp -a $src/tinyutils/serverbox $fs/usr/bin
	cp -a $src/tinyutils/wifibox $fs/usr/bin
	cp -a $src/tinyutils/scpbox $fs/usr/bin
	cp -a $src/tinyutils/subox $fs/usr/bin
	cp -a $src/tinyutils/desktopbox $fs/usr/bin
	cp -a $src/tinyutils/sshbox $fs/usr/bin
	cp -a $src/tinyutils/tazctrlbox $fs/usr/sbin
	# Libs.
	cp -a $src/lib/[a-z]* $fs/usr/lib/slitaz
	# Default English messages (will move to po)
	cp -a $src/messages/en/desktopbox.msg $fs/usr/share/slitaz/messages/en
	# i18n
	for l in `ls $src/po/mo`
	do
		mkdir -p $fs/usr/share/locale/$l/LC_MESSAGES
		cp -a $src/po/mo/$l/* $fs/usr/share/locale/$l/LC_MESSAGES
	done
	# Gksu fake for pcmanfm.
	cd $fs/usr/bin
	ln -s subox gksu
	cd $WOK/$PACKAGE
	# Permissions.
	chown -R root.root $fs
	chmod -R 755 $fs/usr/bin
}
