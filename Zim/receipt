# SliTaz package receipt.

PACKAGE="Zim"
VERSION="0.28"
CATEGORY="utilities"
SHORT_DESC="A desktop wiki."
MAINTAINER="paul@slitaz.org"
DEPENDS="perl perl-gtk2 perl-file-basedir perl-file-desktopentry \
perl-file-mimeinfo desktop-file-utils xdg-utils"
BUILD_DEPENDS="perl perl-gtk2 perl-file-basedir perl-file-desktopentry \
perl-file-mimeinfo desktop-file-utils xdg-utils"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://zim-wiki.org/"
WGET_URL="http://www.zim-wiki.org/downloads/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	cd $src
	./configure
	make && make DESTDIR=$PWD/_pkg install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr
	cp -a $_pkg/usr/* $fs/usr
}

post_install()
{
	echo -n "Processing post-install commands..." 

	# Create mimeinfo.cache in /usr/share/applications
	update-desktop-database
	status
}

