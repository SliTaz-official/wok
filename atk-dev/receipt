# SliTaz package receipt.

PACKAGE="atk-dev"
VERSION="2.34.1"
CATEGORY="development"
SHORT_DESC="Accessibility toolkit - development files."
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL2"
WEB_SITE="https://www.gnome.org/"

DEPENDS="atk pkg-config"
WANTED="atk"

HOST_ARCH="i486 arm"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/lib
	mkdir -p $fs/usr/share

#	cp -a $install/usr/lib/*.*a		$fs/usr/lib
	cp -a $install/usr/lib/pkgconfig	$fs/usr/lib
	cp -a $install/usr/lib/girepository-1.0	$fs/usr/lib
	cp -a $install/usr/share/gir-1.0	$fs/usr/share
	cp -a $install/usr/include		$fs/usr
	version="$(ls $install/usr/lib/libatk-*.so.*.*.* | \
		sed 's|.*so.||;s|\.| |g')"
	cat > $fs/usr/lib/libatk-1.0.la <<EOT
# Generated by libtool (make libtool happy)
dlname='$(cd $install/usr/lib; ls libatk-*.so.?)'
library_names='$(cd $install/usr/lib; ls -r libatk-*.so* | xargs)'
old_library='libatk.a'
#inherited_linker_flags=' -lglib -lgobject -lpcre -lpthread -lrt -lffi'
inherited_linker_flags=' -lpcre -lpthread -lrt -lffi'
weak_library_names=''
current=$(set -- $version ; echo $1)
age=$(set -- $version ; echo $2)
revision=$(set -- $version ; echo $3)
installed=yes
shouldnotlink=no
dlopen=''
dlpreopen=''
libdir='/usr/lib'
EOT
}
