# SliTaz package receipt.

PACKAGE="urxvt-full"
VERSION="9.20"
CATEGORY="utilities"
SHORT_DESC="Terminal emulator with Unicode support for X11"
WEB_SITE="http://software.schmorp.de/pkg/rxvt-unicode.html"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="GPL2"

SOURCE="rxvt-unicode"
TARBALL="$SOURCE-$VERSION.tar.bz2"
WGET_URL="http://dist.schmorp.de/rxvt-unicode/$TARBALL"
TAGS="terminal"

DEPENDS="bzlib expat fontconfig freetype gcc-lib-base gdk-pixbuf glib \
glibc-base libffi libgio libpng libxcb startup-notification xcb-util \
xorg-libX11 xorg-libXau xorg-libXdmcp xorg-libXft xorg-libXrender zlib"
BUILD_DEPENDS="xorg-libX11-dev freetype-dev xorg-libXft-dev gdk-pixbuf-dev \
startup-notification-dev ncursesw-extra"

PROVIDE="urxvt"

# Rules to configure and make the package.
compile_rules()
{
	./configure \
		--enable-everything \
		--enable-256-color \
		--with-terminfo=/usr/share/terminfo \
		$CONFIGURE_ARGS &&
	make && make install

	R="$install/usr/share/terminfo"; mkdir -p $R
	tic -s -o $R $src/doc/etc/rxvt-unicode.terminfo
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cp -a $install/* $fs
	rm -rf $fs/usr/share/man
}
