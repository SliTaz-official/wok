# SliTaz package receipt.

PACKAGE="assaultcube"
VERSION="1.1.0.1"
CATEGORY="games"
SHORT_DESC="A realistic team oriented multiplayer FPS based on the cube engine."
MAINTAINER="slaxemulator@gmail.com"
DEPENDS="openal libsdl-image libsdl-mixer mesa assaultcube-data"
BUILD_DEPENDS="openal openal-dev libsdl-image libsdl-image-dev libsdl-mixer libsdl-mixer-dev mesa mesa-dev"
SOURCE="AssaultCube"
TARBALL="${SOURCE}_v${VERSION}.source.tar.bz2"
WEB_SITE="http://assault.cubers.net/"
WGET_URL="$SF_MIRROR/actiongame/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	ln -s $WOK/$PACKAGE/$VERSION $WOK/$PACKAGE/$SOURCE-$VERSION	
	cd $src/source/src
	make
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	_src=$src/source/src
	_stuff=$WOK/$PACKAGE/stuff
	mkdir -p $fs/usr/bin $fs/usr/share/pixmaps $fs/usr/share/applications
	cp -a $_src/ac_client $fs/usr/bin
	cp -a $_src/ac_server $fs/usr/bin
	cp -a $_stuff/assaultcube $fs/usr/bin
	cp -a $_stuff/assaultcube-server $fs/usr/bin
	cp -a $_stuff/assaultcube.png $fs/usr/share/pixmaps
	chmod +x $fs/usr/bin/assaultcube
	chmod +x $fs/usr/bin/assaultcube-server
}

