# SliTaz package receipt.

PACKAGE="scummvm"
VERSION="1.2.1"
CATEGORY="games"
SHORT_DESC="A 'virtual machine' for several classic graphical point-and-click adventure games."
MAINTAINER="gokhlayeh@slitaz.org"
DEPENDS="gcc-lib-base alsa-lib libmad libvorbis flac libsdl zlib"
TARBALL="$PACKAGE-$VERSION.tar.bz2"
WEB_SITE="http://www.scummvm.org/"
WGET_URL="http://downloads.sourceforge.net/sourceforge/$PACKAGE/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	cd $src
	./configure \
		--datadir=/usr/games/scummvm \
		--backend=sdl --disable-debug \
		--with-mpeg2-prefix=/usr \
		--with-flac-prefix=/usr \
		--disable-fluidsynth &&
	make && make install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share/applications $fs/usr/games
	cp -a $_pkg/usr/bin $fs/usr
	cp -a $_pkg/usr/games/scummvm $fs/usr/games
	cp -a $src/dists/scummvm.desktop $fs/usr/share/applications
}

