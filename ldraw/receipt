# SliTaz package receipt.

PACKAGE="ldraw"
VERSION="2004-2"
CATEGORY="games"
SHORT_DESC="A redistributable LDraw.org parts library."
MAINTAINER="rcx@zoominternet.net"
DEPENDS=""
BUILD_DEPENDS=""
TARBALL="unix-complete.tgz"
WEB_SITE="http://www.ldraw.org/"
WGET_URL="http://www.ldraw.org/files/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	# Extract the contents directly to the package directory
	if [ ! -d $src ] ; then
		mv LDRAW $src
		mkdir -p $src/_pkg/ldraw
		cp -a $src/*.ldr $src/parts.lst  $src/_pkg/ldraw
		cp -a $src/P $src/_pkg/ldraw
		cp -a $src/PARTS $src/_pkg/ldraw
		chmod -R a-x,go-w $src/_pkg/ldraw
	fi

	# The download tarball is not versioned, so we have to move it
	mv -f $SOURCES_REPOSITORY/$TARBALL $SOURCES_REPOSITORY/$PACKAGE-$VERSION.tgz
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share
	cp -a $_pkg/* $fs/usr/share
}
