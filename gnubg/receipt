# SliTaz package receipt.

PACKAGE="gnubg"
VERSION="1.05.000"
CATEGORY="games"
SHORT_DESC="GNU Backgammon game."
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="GPL"
TARBALL="$PACKAGE-release-$VERSION-sources.tar.gz"
WEB_SITE="http://www.gnubg.org/"
WGET_URL="http://files.gnubg.org/media/sources/$TARBALL"

DEPENDS="gtk+ libcanberra ncurses python gmp libvorbis libltdl"
BUILD_DEPENDS="pkg-config autoconf automake bison flex libtool \
glib-dev libpng-dev freetype-dev gtk+-dev cairo-dev libcanberra-dev \
gtkglext-dev readline-dev python sqlite-dev gmp-dev"

# Rules to configure and make the package.
compile_rules()
{
	export LDFLAGS="$LDFLAGS -ltinfo"
	./configure --prefix=/usr \
		--sysconfdir=/etc \
		--mandir=/usr/share/man \
		--disable-cputest \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$DESTDIR install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share/applications
	cp -a $install/* $fs
	cp -a $stuff/gnubg.desktop $fs/usr/share/applications
}
