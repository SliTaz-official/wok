# SliTaz package receipt.

PACKAGE="reaver"
VERSION="1.4"
CATEGORY="network"
SHORT_DESC="Brute force attack against Wifi Protected Setup."
MAINTAINER="pascal.bellard@slitaz.org"
WEB_SITE="http://code.google.com/p/reaver-wps/"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="http://reaver-wps.googlecode.com/files/$TARBALL"
CONFIG_FILES="/etc/reaver"

DEPENDS="libpcap libsqlite"
BUILD_DEPENDS="libpcap-dev sqlite-dev"

# Rules to configure and make the package.
compile_rules()
{
	cd $src/src
	./configure --prefix=/usr --sysconfdir=/etc $CONFIGURE_ARGS &&
	make && make cleanbin && {
		mkdir -p $DESTDIR/etc/reaver $DESTDIR/usr/bin
		cp reaver.db $DESTDIR/etc/reaver
		cp wash reaver $DESTDIR/usr/bin
	}
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cp -a $install/* $fs
}
