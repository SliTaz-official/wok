# SliTaz package receipt.

PACKAGE="yad"
VERSION="0.20.3"
CATEGORY="utilities"
SHORT_DESC="Display graphical dialogs from shell scripts or command line"
MAINTAINER="devl547@gmail.com"
LICENSE="GPL3"
TARBALL="$PACKAGE-$VERSION.tar.xz"
WEB_SITE="http://code.google.com/p/yad/"
WGET_URL="http://yad.googlecode.com/files/$TARBALL"
TAGS="gtk2"
VERSION_NOTE="latest"

DEPENDS="gtk+"
BUILD_DEPENDS="gtk+-dev optipng"

# Rules to configure and make the package.
compile_rules()
{
	patch -p1 < $stuff/ru.patch
	./configure \
		--enable-icon-browser &&
	make &&
	make install
	optipng -quiet -zc1-9 -zm1-9 -zs0-3 -f0-5 \
		$install/usr/share/icons/hicolor/48x48/apps/yad.png
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p \
		$fs/usr/share/pixmaps
	cp -a $install/usr/bin $fs/usr
	cp -a $install/usr/share/icons/hicolor/48x48/apps/yad.png \
		$fs/usr/share/pixmaps
}
