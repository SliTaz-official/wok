# SliTaz package receipt.

PACKAGE="aescrypt"
VERSION="305"
CATEGORY="security"
SHORT_DESC="AES Crypt is a file encryption software."
MAINTAINER="slaxemulator@gmail.com"
DEPENDS="glibc-base"
TARBALL="${PACKAGE}${VERSION}_source.tar.gz"
WEB_SITE="http://www.aescrypt.com/"
WGET="http://www.aescrypt.com/cgi-bin/download?file=v3/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	if [ -f $SOURCES_REPOSITORY/$TARBALL ]; then
		tar xzf $SOURCES_REPOSITORY/$TARBALL
	elif [ ! -f $SOURCES_REPOSITORY/$PACKAGE-$VERSION.tar.lzma ]; then
		[ -L /usr/bin/wget ] && tazpkg get-install wget --forced
		wget -O $SOURCES_REPOSITORY/$TARBALL "$WGET"
		tar xzf $SOURCES_REPOSITORY/$TARBALL
	fi
	[ -d $WOK/$PACKAGE/${PACKAGE}${VERSION}_source ] && src=$WOK/$PACKAGE/${PACKAGE}${VERSION}_source
	cd $src
	make
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	[ -d $WOK/$PACKAGE/${PACKAGE}${VERSION}_source ] && src=$WOK/$PACKAGE/${PACKAGE}${VERSION}_source
	mkdir -p $fs/usr/bin
	cp -a $src/aescrypt $fs/usr/bin
}

