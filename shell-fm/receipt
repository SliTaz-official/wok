# SliTaz package receipt.

PACKAGE="shell-fm"
VERSION="0.7"
CATEGORY="multimedia"
SHORT_DESC="console based player for the streams provided by Last.FM"
MAINTAINER="jozee@slitaz.org"
DEPENDS="libmad libao taglib zlib"
BUILD_DEPENDS="libmad-dev libao-dev libao git pkg-config"
WEB_SITE="http://nex.scrapping.cc/shell-fm/"

# Rules to configure and make the package.
compile_rules()
{
	[ -d "$PACKAGE-$VERSION" ] && rm -rf $PACKAGE-$VERSION
	TARBALL=$SOURCES_REPOSITORY/$PACKAGE-$VERSION.tar.gz
	if [ -f $TARBALL ]; then
		tar xzf $TARBALL
	else
		echo "Cloning revision $VERSION from git repository..."
		git clone git://github.com/jkramer/shell-fm.git $PACKAGE-$VERSION
		cd $PACKAGE-$VERSION && git checkout v${VERSION}
		cd $WOK/$PACKAGE && tar czf $TARBALL $PACKAGE-$VERSION
	fi
	
	cd $src
	make &&
	make DESTDIR=$PWD/_pkg install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr
	cp -a $_pkg/usr/bin $fs/usr
}
