# SliTaz package receipt.

PACKAGE="slitaz-doc"
VERSION="4.1"
CATEGORY="base-system"
SHORT_DESC="SliTaz system documentation."
MAINTAINER="pankso@slitaz.org"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://www.slitaz.org/"
WGET_URL="http://mirror.slitaz.org/sources/doc/$TARBALL"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share/doc/slitaz \
		$fs/usr/share/pixmaps \
		$fs/etc/skel/Desktop \
    # Copy default english doc from slitaz/ and set permissions.
    cp -a $src/slitaz/index.en.html $fs/usr/share/doc/slitaz
	cp -a $src/slitaz/index.html $fs/usr/share/doc/slitaz
	# For stable release.
	cp -a $src/slitaz/relnotes.*.html $fs/usr/share/doc/slitaz
	cp -a $src/slitaz/book.css $fs/usr/share/doc/slitaz
	cp -a $src/slitaz/favicon.ico $fs/usr/share/doc/slitaz
	cp -a $src/slitaz/images $fs/usr/share/doc/slitaz
	# Desktop file and pixmaps
	cp $src/applications/slitaz-doc.desktop $fs/etc/skel/Desktop
	cp -a $src/pixmaps $fs/usr/share
	chown -R root.root $fs/*
	chmod -x $fs/usr/share/doc/slitaz/*.html
	# Specific language doc is include in locale pack.
	for i in "de fr hu pt"
	do
		[ -d $WOK/locale-$i ] && tazwok cook locale-$i
	done
}
