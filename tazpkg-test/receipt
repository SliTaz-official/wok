# SliTaz package receipt.

PACKAGE="tazpkg-test"
VERSION="857"
CATEGORY="base-system"
SHORT_DESC="SliTaz packages manager"
MAINTAINER="al.bobylev@gmail.com"
LICENSE="GPL3"
WEB_SITE="http://www.slitaz.org/"
TARBALL="tazpkg-$VERSION.tar.gz"
WGET_URL="http://hg.slitaz.org/tazpkg/archive/$VERSION.tar.gz"
TAGS="slitaz package-manager"

DEPENDS="busybox gettext-base"
SUGGESTED="tazpanel"
BUILD_DEPENDS="gettext"

# Rules to configure and make the package.
compile_rules()
{
	make && make DESTDIR=$DESTDIR VERSION=$VERSION install
}

genpkg_rules()
{
	cp -a $install/* $fs
	chown -R root.root $fs

	# Default icon for mimetype (freedesktop standard compliant file
	# manager will diplay a tazpkg icon for SliTaz packages).
	icons="$fs/usr/share/icons/hicolor/32x32/mimetypes"
	mkdir -p $icons
	ln -s ../apps/tazpkg.png $icons/application-x-tazpkg.png
}
