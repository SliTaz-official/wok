#!/bin/sh

xdbclient()
{
	read host type data
	n=10; dpy=localhost:$n
	dbclient -R $((6000+$n)):localhost:6000 "$@" \
		"xauth add $dpy $type $data; export DISPLAY=$dpy; $TERM"
}

case "$TERM" in
xterm*|rxvt*)	xauth list :0 | xdbclient "$@" ;;
*)		dbclient "$@" ;;
esac
