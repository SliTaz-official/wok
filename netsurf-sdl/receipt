# SliTaz package receipt.                                                          
                                                                                   
PACKAGE="netsurf-sdl"                                                              
VERSION="3.6"                                                                      
CATEGORY="network"
SHORT_DESC="A simple web browser, works without X using Ctr-Alt-F8 framebuffer."
MAINTAINER="psychomaniak@xakep.ru"
LICENSE="GPL2"
TARBALL="${PACKAGE/-fb/}-all-$VERSION.tar.gz"
WEB_SITE="http://www.netsurf-browser.org/"
WGET_URL="http://download.${WEB_SITE:10:19}/netsurf/releases/source-full/$TARBALL"
TAGS="web-browser"
BUGS="No unicode. No https."

DEPENDS="expat libssl libcrypto libpng libjpeg libcurl libsdl libidn zlib"
BUILD_DEPENDS="$DEPENDS openssl-dev libpng-dev jpeg-dev lcms-dev re2c \
lemon curl-dev libxml2-dev expat-dev gperf flex bison perl-html-parser \
perl-html-tagset freetype-dev pango-dev libxml2-dev libcroco expat-dev \
librsvg-dev libidn-dev zlib-dev"

# Rules to configure and make the package.
compile_rules()
{
	export LDFLAGS="$LDFLAGS -lrt"
	export CFLAGS="$CFLAGS -lrt"
	export CXXFLAGS="$CXXFLAGS -lrt"
	make install DESTDIR=$DESTDIR PREFIX=/usr TARGET=framebuffer
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cp -a $install/* $fs
	chown -R root.root $fs
}
