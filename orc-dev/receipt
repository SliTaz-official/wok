# SliTaz package receipt.

PACKAGE="orc-dev"
VERSION="0.4.32"
CATEGORY="development"
SHORT_DESC="Oil runtime compiler - development files."
MAINTAINER="domcox@slitaz.org"
LICENSE="BSD"
WEB_SITE="https://gstreamer.freedesktop.org/projects/orc.html"

DEPENDS="orc pkg-config"
WANTED="orc"

HOST_ARCH="i486 arm"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cook_copy_folders	include
	cook_copy_folders	pkgconfig
	cook_copy_folders	share
	cook_copy_files		*.*a

	# /usr/lib/liborc-0.4.la required to build efl
	version="$(ls $install/usr/lib/liborc-0*.so.*.*.* | \
		sed 's|.*so.||;s|\.| |g')"
	current=${version%% *}
	age=${version#* }
	age=${age% *}
	revision=${version##* }
	cat > $fs/usr/lib/liborc-0.4.la <<EOT
# Generated by libtool (make libtool happy)
dlname='$(cd $install/usr/lib; ls liborc-0*.so.?)'
library_names='$(cd $install/usr/lib; ls -r liborc-0*.so* | xargs)'
old_library='liborc.a'
inherited_linker_flags=''
weak_library_names=''
current=$current
age=$age
revision=$revision
installed=yes
shouldnotlink=no
dlopen=''
dlpreopen=''
libdir='/usr/lib'
EOT
}
