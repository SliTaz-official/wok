# SliTaz package receipt.

PACKAGE="busybox-static"
VERSION="1.21.0"
CATEGORY="base-system"
SHORT_DESC="Busybox combines tiny versions of many common UNIX utilities."
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="GPL2"
DEPENDS=""
WANTED="busybox"
WEB_SITE="http://www.busybox.net/"
CONFIG_FILES=""

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/share/boot
	CHOICE=static
	for i in uclibc musl diet ; do
		[ -x $src/busybox-$i ] || continue
		[ $(stat -c %s $src/busybox-$i) -lt \
	          $(stat -c %s $src/busybox-$CHOICE) ] &&
		CHOICE=$i
	done
	cp -a $src/busybox-$CHOICE $fs/usr/share/boot/busybox-static
}

post_install()
{
    chmod 4755 $1/usr/share/boot/busybox-static
}
