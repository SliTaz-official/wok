# SliTaz package receipt.

PACKAGE="fusioninventory-agent"
VERSION="2.4.2"
CATEGORY="network"
SHORT_DESC="FusionInventory generic management agent"
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="GPL2"
TARBALL="FusionInventory-Agent-$VERSION.tar.gz"
WEB_SITE="http://fusioninventory.org/"
WGET_URL="https://github.com/fusioninventory/$PACKAGE/releases/download/$VERSION/$TARBALL"

DEPENDS="perl-file-which perl-http-server-simple perl-io-socket-ssl perl-ipc-run \
perl-net-ip perl-net-snmp perl-test-deep perl-test-exception \
perl-test-nowarnings perl-text-template perl-universal-require"
BUILD_DEPENDS="$DEPENDS"

# Rules to configure and make the package.
compile_rules()
{
	sed -i 's|/usr/local|/usr|;s|\$(PREFIX)\(/.../\)|\1|' Makefile.PL
	perl Makefile.PL
	make &&
	make DESTDIR=$DESTDIR install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cp -a $install/* $fs/
}
