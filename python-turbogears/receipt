# SliTaz package receipt.

PACKAGE="python-turbogears"
VERSION="1.0.8"
CATEGORY="network"
SHORT_DESC="Python web application framework."
MAINTAINER="pankso@slitaz.org"
SOURCE="TurboGears"
TARBALL="$SOURCE-$VERSION.tar.gz"
WEB_SITE="http://www.turbogears.org/"
WGET_URL="http://files.turbogears.org/eggs/$TARBALL"
DEPENDS="python psycopg sqlobject python-kid python-cheetah python-cherrypy \
python-paste python-pastedeploy python-pastescript python-formencode \
python-decoratortools"
BUILD_DEPENDS="$DEPENDS python-dev setuptools"

# Rules to configure and make the package.
compile_rules()
{
	# Use tgsetup.py to bootstrap installation with all deps. It will
	# build: TurbuGears, TurboCheetah, TurboJson and TurboKid.
	cd $src/tools
	DESTDIR="../_pkg/usr/lib/python2.5/site-packages"
	mkdir -p $DESTDIR
	PYTHONPATH=$DESTDIR python tgsetup.py -U -d $DESTDIR --prefix="../_pkg/usr"
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cp -a $_pkg/usr $fs
	rm $fs/usr/lib/python2.5/site-packages/site.py*
}
