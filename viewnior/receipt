# SliTaz package receipt.

PACKAGE="viewnior"
VERSION="1.6"
CATEGORY="graphics"
SHORT_DESC="Fast and elegant image viewer"
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL3"
WEB_SITE="http://siyanpanayotov.com/project/viewnior/"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WGET_URL="https://github.com/xsisqox/Viewnior/archive/$TARBALL"
TAGS="image photo viewer"
HOST_ARCH="i486 arm"

DEPENDS="atk bzlib cairo exiv2 fontconfig freetype gcc-lib-base gdk-pixbuf \
glib glibc-base gtk+ harfbuzz libffi libgio libpng libxcb libxml2 pango pcre \
pixman xorg-libX11 xorg-libXau xorg-libXdmcp xorg-libXext xorg-libXrender zlib"
BUILD_DEPENDS="automake libtool gtk+-dev exiv2-dev"

case "$ARCH" in
	i?86) BUILD_DEPENDS="$BUILD_DEPENDS shared-mime-info-dev" ;;
esac

# Rules to configure and make the package.
compile_rules()
{
	mkdir -p $src/m4
	autoreconf -fi
	./configure $CONFIGURE_ARGS && make $MAKEFLAGS install
	cook_compress_manpages
	cook_compress_png
	sed -i 's|^ *||' $install/usr/share/viewnior/*.ui
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	cook_copy_files viewnior *.ui
	cook_copy_icons
}
