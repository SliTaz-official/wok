--- xarchive-0.2.8-6.old/config.log	Thu Jan  1 01:00:00 1970
+++ xarchive-0.2.8-6/config.log	Sat Mar 22 12:58:40 2008
@@ -0,0 +1,479 @@
+This file contains any messages produced by compilers while
+running configure, to aid debugging if configure makes a mistake.
+
+It was created by XArchive configure 0.2.8-6, which was
+generated by GNU Autoconf 2.59.  Invocation command line was
+
+  $ ./configure --prefix=/usr --infodir=/usr/share/info --mandir=/usr/share/man --build=i486-pc-linux-gnu --host=i486-pc-linux-gnu
+
+## --------- ##
+## Platform. ##
+## --------- ##
+
+hostname = beastie
+uname -m = i686
+uname -r = 2.6.24.2-slitaz
+uname -s = Linux
+uname -v = #1 SMP Mon Mar 10 16:36:10 CET 2008
+
+/usr/bin/uname -p = unknown
+/bin/uname -X     = unknown
+
+/bin/arch              = unknown
+/usr/bin/arch -k       = unknown
+/usr/convex/getsysinfo = unknown
+hostinfo               = unknown
+/bin/machine           = unknown
+/usr/bin/oslevel       = unknown
+/bin/universe          = unknown
+
+PATH: /usr/sbin
+PATH: /usr/bin
+PATH: /sbin
+PATH: /bin
+PATH: /usr/games
+
+
+## ----------- ##
+## Core tests. ##
+## ----------- ##
+
+configure:1378: checking for a BSD-compatible install
+configure:1433: result: /usr/bin/install -c
+configure:1444: checking whether build environment is sane
+configure:1487: result: yes
+configure:1520: checking for gawk
+configure:1549: result: no
+configure:1520: checking for mawk
+configure:1549: result: no
+configure:1520: checking for nawk
+configure:1549: result: no
+configure:1520: checking for awk
+configure:1536: found /usr/bin/awk
+configure:1546: result: awk
+configure:1556: checking whether make sets $(MAKE)
+configure:1576: result: yes
+configure:1734: checking build system type
+configure:1752: result: i486-pc-linux-gnu
+configure:1770: checking for i486-pc-linux-gnu-gcc
+configure:1786: found /usr/bin/i486-pc-linux-gnu-gcc
+configure:1796: result: i486-pc-linux-gnu-gcc
+configure:2078: checking for C compiler version
+configure:2081: i486-pc-linux-gnu-gcc --version </dev/null >&5
+i486-pc-linux-gnu-gcc (GCC) 4.2.2
+Copyright (C) 2007 Free Software Foundation, Inc.
+This is free software; see the source for copying conditions.  There is NO
+warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
+
+configure:2084: $? = 0
+configure:2086: i486-pc-linux-gnu-gcc -v </dev/null >&5
+Using built-in specs.
+Target: i486-pc-linux-gnu
+Configured with: ../gcc-4.2.2/configure --prefix=/usr --libexecdir=/usr/lib --infodir=/usr/share/info --mandir=/usr/share/man --enable-nls --enable-languages=c,c++ --enable-shared --with-system-zlib --enable-clocale=gnu --enable-objc-gc --enable-__cxa_atexit --enable-threads=posix --with-tune=i486 i486-pc-linux-gnu
+Thread model: posix
+gcc version 4.2.2
+configure:2089: $? = 0
+configure:2091: i486-pc-linux-gnu-gcc -V </dev/null >&5
+i486-pc-linux-gnu-gcc: '-V' option must have argument
+configure:2094: $? = 1
+configure:2117: checking for C compiler default output file name
+configure:2120: i486-pc-linux-gnu-gcc    conftest.c  >&5
+configure:2123: $? = 0
+configure:2169: result: a.out
+configure:2174: checking whether the C compiler works
+configure:2180: ./a.out
+configure:2183: $? = 0
+configure:2200: result: yes
+configure:2207: checking whether we are cross compiling
+configure:2209: result: no
+configure:2212: checking for suffix of executables
+configure:2214: i486-pc-linux-gnu-gcc -o conftest    conftest.c  >&5
+configure:2217: $? = 0
+configure:2242: result: 
+configure:2248: checking for suffix of object files
+configure:2269: i486-pc-linux-gnu-gcc -c   conftest.c >&5
+configure:2272: $? = 0
+configure:2294: result: o
+configure:2298: checking whether we are using the GNU C compiler
+configure:2322: i486-pc-linux-gnu-gcc -c   conftest.c >&5
+configure:2328: $? = 0
+configure:2331: test -z 			 || test ! -s conftest.err
+configure:2334: $? = 0
+configure:2337: test -s conftest.o
+configure:2340: $? = 0
+configure:2353: result: yes
+configure:2359: checking whether i486-pc-linux-gnu-gcc accepts -g
+configure:2380: i486-pc-linux-gnu-gcc -c -g  conftest.c >&5
+configure:2386: $? = 0
+configure:2389: test -z 			 || test ! -s conftest.err
+configure:2392: $? = 0
+configure:2395: test -s conftest.o
+configure:2398: $? = 0
+configure:2409: result: yes
+configure:2426: checking for i486-pc-linux-gnu-gcc option to accept ANSI C
+configure:2496: i486-pc-linux-gnu-gcc  -c -g -O2  conftest.c >&5
+configure:2502: $? = 0
+configure:2505: test -z 			 || test ! -s conftest.err
+configure:2508: $? = 0
+configure:2511: test -s conftest.o
+configure:2514: $? = 0
+configure:2532: result: none needed
+configure:2550: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+conftest.c:2: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'me'
+configure:2556: $? = 1
+configure: failed program was:
+| #ifndef __cplusplus
+|   choke me
+| #endif
+configure:2705: checking for style of include used by make
+configure:2733: result: GNU
+configure:2761: checking dependency style of i486-pc-linux-gnu-gcc
+configure:2823: result: gcc3
+configure:2830: checking for bash
+configure:2848: found /bin/bash
+configure:2860: result: /bin/bash
+configure:2875: checking for i486-pc-linux-gnu-pkg-config
+configure:2908: result: no
+configure:2917: checking for pkg-config
+configure:2935: found /usr/bin/pkg-config
+configure:2947: result: /usr/bin/pkg-config
+configure:2962: checking pkg-config is at least version 0.9.0
+configure:2965: result: yes
+configure:2976: checking for GTK_CFLAGS
+configure:2993: result: -I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12  
+configure:2995: checking for GTK_LIBS
+configure:3012: result: -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0  
+configure:3043: checking for dirent.h that defines DIR
+configure:3067: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3073: $? = 0
+configure:3076: test -z 			 || test ! -s conftest.err
+configure:3079: $? = 0
+configure:3082: test -s conftest.o
+configure:3085: $? = 0
+configure:3096: result: yes
+configure:3109: checking for library containing opendir
+configure:3139: i486-pc-linux-gnu-gcc -o conftest -g -O2   conftest.c  >&5
+configure:3145: $? = 0
+configure:3148: test -z 			 || test ! -s conftest.err
+configure:3151: $? = 0
+configure:3154: test -s conftest
+configure:3157: $? = 0
+configure:3226: result: none required
+configure:3365: checking how to run the C preprocessor
+configure:3400: i486-pc-linux-gnu-gcc -E  conftest.c
+configure:3406: $? = 0
+configure:3438: i486-pc-linux-gnu-gcc -E  conftest.c
+conftest.c:13:28: error: ac_nonexistent.h: No such file or directory
+configure:3444: $? = 1
+configure: failed program was:
+| /* confdefs.h.  */
+| 
+| #define PACKAGE_NAME "XArchive"
+| #define PACKAGE_TARNAME "xarchive"
+| #define PACKAGE_VERSION "0.2.8-6"
+| #define PACKAGE_STRING "XArchive 0.2.8-6"
+| #define PACKAGE_BUGREPORT "Lee Bigelow <ligelowbee@yahoo.com>"
+| #define PACKAGE "xarchive"
+| #define VERSION "0.2.8-6"
+| #define _GNU_SOURCE 1
+| #define HAVE_DIRENT_H 1
+| /* end confdefs.h.  */
+| #include <ac_nonexistent.h>
+configure:3483: result: i486-pc-linux-gnu-gcc -E
+configure:3507: i486-pc-linux-gnu-gcc -E  conftest.c
+configure:3513: $? = 0
+configure:3545: i486-pc-linux-gnu-gcc -E  conftest.c
+conftest.c:13:28: error: ac_nonexistent.h: No such file or directory
+configure:3551: $? = 1
+configure: failed program was:
+| /* confdefs.h.  */
+| 
+| #define PACKAGE_NAME "XArchive"
+| #define PACKAGE_TARNAME "xarchive"
+| #define PACKAGE_VERSION "0.2.8-6"
+| #define PACKAGE_STRING "XArchive 0.2.8-6"
+| #define PACKAGE_BUGREPORT "Lee Bigelow <ligelowbee@yahoo.com>"
+| #define PACKAGE "xarchive"
+| #define VERSION "0.2.8-6"
+| #define _GNU_SOURCE 1
+| #define HAVE_DIRENT_H 1
+| /* end confdefs.h.  */
+| #include <ac_nonexistent.h>
+configure:3595: checking for egrep
+configure:3605: result: grep -E
+configure:3610: checking for ANSI C header files
+configure:3635: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3641: $? = 0
+configure:3644: test -z 			 || test ! -s conftest.err
+configure:3647: $? = 0
+configure:3650: test -s conftest.o
+configure:3653: $? = 0
+configure:3742: i486-pc-linux-gnu-gcc -o conftest -g -O2   conftest.c  >&5
+conftest.c: In function 'main':
+conftest.c:30: warning: incompatible implicit declaration of built-in function 'exit'
+configure:3745: $? = 0
+configure:3747: ./conftest
+configure:3750: $? = 0
+configure:3765: result: yes
+configure:3789: checking for sys/types.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for sys/stat.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for stdlib.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for string.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for memory.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for strings.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for inttypes.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for stdint.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3789: checking for unistd.h
+configure:3805: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:3811: $? = 0
+configure:3814: test -z 			 || test ! -s conftest.err
+configure:3817: $? = 0
+configure:3820: test -s conftest.o
+configure:3823: $? = 0
+configure:3834: result: yes
+configure:3853: checking for stdlib.h
+configure:3858: result: yes
+configure:3853: checking for string.h
+configure:3858: result: yes
+configure:3853: checking for unistd.h
+configure:3858: result: yes
+configure:3999: checking for an ANSI C-conforming const
+configure:4066: i486-pc-linux-gnu-gcc -c -g -O2  conftest.c >&5
+configure:4072: $? = 0
+configure:4075: test -z 			 || test ! -s conftest.err
+configure:4078: $? = 0
+configure:4081: test -s conftest.o
+configure:4084: $? = 0
+configure:4095: result: yes
+configure:4109: checking for working alloca.h
+configure:4130: i486-pc-linux-gnu-gcc -o conftest -g -O2   conftest.c  >&5
+
+## ---------------- ##
+## Cache variables. ##
+## ---------------- ##
+
+ac_cv_build=i486-pc-linux-gnu
+ac_cv_build_alias=i486-pc-linux-gnu
+ac_cv_c_compiler_gnu=yes
+ac_cv_c_const=yes
+ac_cv_env_CC_set=
+ac_cv_env_CC_value=
+ac_cv_env_CFLAGS_set=
+ac_cv_env_CFLAGS_value=
+ac_cv_env_CPPFLAGS_set=
+ac_cv_env_CPPFLAGS_value=
+ac_cv_env_CPP_set=
+ac_cv_env_CPP_value=
+ac_cv_env_GTK_CFLAGS_set=
+ac_cv_env_GTK_CFLAGS_value=
+ac_cv_env_GTK_LIBS_set=
+ac_cv_env_GTK_LIBS_value=
+ac_cv_env_LDFLAGS_set=
+ac_cv_env_LDFLAGS_value=
+ac_cv_env_PKG_CONFIG_set=
+ac_cv_env_PKG_CONFIG_value=
+ac_cv_env_build_alias_set=set
+ac_cv_env_build_alias_value=i486-pc-linux-gnu
+ac_cv_env_host_alias_set=set
+ac_cv_env_host_alias_value=i486-pc-linux-gnu
+ac_cv_env_target_alias_set=
+ac_cv_env_target_alias_value=
+ac_cv_exeext=
+ac_cv_header_dirent_dirent_h=yes
+ac_cv_header_inttypes_h=yes
+ac_cv_header_memory_h=yes
+ac_cv_header_stdc=yes
+ac_cv_header_stdint_h=yes
+ac_cv_header_stdlib_h=yes
+ac_cv_header_string_h=yes
+ac_cv_header_strings_h=yes
+ac_cv_header_sys_stat_h=yes
+ac_cv_header_sys_types_h=yes
+ac_cv_header_unistd_h=yes
+ac_cv_objext=o
+ac_cv_path_BASH_PROG=/bin/bash
+ac_cv_path_ac_pt_PKG_CONFIG=/usr/bin/pkg-config
+ac_cv_path_install='/usr/bin/install -c'
+ac_cv_prog_AWK=awk
+ac_cv_prog_CC=i486-pc-linux-gnu-gcc
+ac_cv_prog_CPP='i486-pc-linux-gnu-gcc -E'
+ac_cv_prog_cc_g=yes
+ac_cv_prog_cc_stdc=
+ac_cv_prog_egrep='grep -E'
+ac_cv_prog_make_make_set=yes
+ac_cv_search_opendir='none required'
+am_cv_CC_dependencies_compiler_type=gcc3
+pkg_cv_GTK_CFLAGS='-I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12  '
+pkg_cv_GTK_LIBS='-lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0  '
+
+## ----------------- ##
+## Output variables. ##
+## ----------------- ##
+
+ACLOCAL='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run aclocal-1.6'
+ALLOCA=''
+AMDEPBACKSLASH='\'
+AMDEP_FALSE='#'
+AMDEP_TRUE=''
+AMTAR='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run tar'
+AUTOCONF='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run autoconf'
+AUTOHEADER='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run autoheader'
+AUTOMAKE='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run automake-1.6'
+AWK='awk'
+BASH_PROG='/bin/bash'
+BASH_PROG='/bin/bash'
+CC='i486-pc-linux-gnu-gcc'
+CCDEPMODE='depmode=gcc3'
+CFLAGS='-g -O2'
+CONFIGURE_CFLAGS=''
+CONFIGURE_LDFLAGS=''
+CPP='i486-pc-linux-gnu-gcc -E'
+CPPFLAGS=''
+DEFS=''
+DEPDIR='.deps'
+ECHO_C=''
+ECHO_N='-n'
+ECHO_T=''
+EGREP='grep -E'
+EXEEXT=''
+GTK_CFLAGS='-I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12  '
+GTK_CFLAGS='-I/usr/include/gtk-2.0 -I/usr/lib/gtk-2.0/include -I/usr/include/atk-1.0 -I/usr/include/cairo -I/usr/include/pango-1.0 -I/usr/include/glib-2.0 -I/usr/lib/glib-2.0/include -I/usr/include/freetype2 -I/usr/include/libpng12  '
+GTK_LIBS='-lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0  '
+GTK_LIBS='-lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgdk_pixbuf-2.0 -lm -lpangocairo-1.0 -lpango-1.0 -lcairo -lgobject-2.0 -lgmodule-2.0 -ldl -lglib-2.0  '
+INSTALL_DATA='${INSTALL} -m 644'
+INSTALL_PROGRAM='${INSTALL}'
+INSTALL_SCRIPT='${INSTALL}'
+INSTALL_STRIP_PROGRAM='${SHELL} $(install_sh) -c -s'
+LDFLAGS=''
+LIBOBJS=''
+LIBS=''
+LTLIBOBJS=''
+MAKEINFO='${SHELL} /home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/missing --run makeinfo'
+OBJEXT='o'
+PACKAGE='xarchive'
+PACKAGE_BUGREPORT='Lee Bigelow <ligelowbee@yahoo.com>'
+PACKAGE_NAME='XArchive'
+PACKAGE_STRING='XArchive 0.2.8-6'
+PACKAGE_TARNAME='xarchive'
+PACKAGE_VERSION='0.2.8-6'
+PATH_SEPARATOR=':'
+PKG_CONFIG='/usr/bin/pkg-config'
+SET_MAKE=''
+SHELL='/bin/bash'
+STRIP=''
+VERSION='0.2.8-6'
+ac_ct_CC=''
+ac_ct_STRIP=''
+ac_pt_PKG_CONFIG='/usr/bin/pkg-config'
+am__include='include'
+am__quote=''
+bindir='${exec_prefix}/bin'
+build='i486-pc-linux-gnu'
+build_alias='i486-pc-linux-gnu'
+build_cpu='i486'
+build_os='linux-gnu'
+build_os='linux-gnu'
+build_vendor='pc'
+datadir='${prefix}/share'
+exec_prefix='NONE'
+host_alias='i486-pc-linux-gnu'
+includedir='${prefix}/include'
+infodir='/usr/share/info'
+install_sh='/home/slitaz/wok/xarchive/xarchive-0.2.8-6/config/install-sh'
+libdir='${exec_prefix}/lib'
+libexecdir='${exec_prefix}/libexec'
+localstatedir='${prefix}/var'
+mandir='/usr/share/man'
+oldincludedir='/usr/include'
+prefix='/usr'
+program_transform_name='s,x,x,'
+sbindir='${exec_prefix}/sbin'
+sharedstatedir='${prefix}/com'
+sysconfdir='${prefix}/etc'
+target_alias=''
+
+## ----------- ##
+## confdefs.h. ##
+## ----------- ##
+
+#define HAVE_DIRENT_H 1
+#define HAVE_INTTYPES_H 1
+#define HAVE_MEMORY_H 1
+#define HAVE_STDINT_H 1
+#define HAVE_STDLIB_H 1
+#define HAVE_STDLIB_H 1
+#define HAVE_STRINGS_H 1
+#define HAVE_STRING_H 1
+#define HAVE_STRING_H 1
+#define HAVE_SYS_STAT_H 1
+#define HAVE_SYS_TYPES_H 1
+#define HAVE_UNISTD_H 1
+#define HAVE_UNISTD_H 1
+#define PACKAGE "xarchive"
+#define PACKAGE_BUGREPORT "Lee Bigelow <ligelowbee@yahoo.com>"
+#define PACKAGE_NAME "XArchive"
+#define PACKAGE_STRING "XArchive 0.2.8-6"
+#define PACKAGE_TARNAME "xarchive"
+#define PACKAGE_VERSION "0.2.8-6"
+#define STDC_HEADERS 1
+#define VERSION "0.2.8-6"
+#define _GNU_SOURCE 1
+
+configure: caught signal 2
+configure: exit 1
--- xarchive-0.2.8-6.old/wrappers/7za.src	Tue Nov 15 12:59:51 2005
+++ xarchive-0.2.8-6/wrappers/7za.src	Sat Mar 22 13:01:15 2008
@@ -51,9 +51,9 @@
 # the shifting will leave the files passed as
 # all the remaining args: "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # Command line options for prog functions
 NEW_OPTS="a -ms=off"
--- xarchive-0.2.8-6.old/wrappers/ace.src	Sat Jan 14 04:49:36 2006
+++ xarchive-0.2.8-6/wrappers/ace.src	Sat Mar 22 13:01:15 2008
@@ -48,9 +48,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # Command line options for prog functions
 # disable comments when opening
--- xarchive-0.2.8-6.old/wrappers/arj.src	Tue Nov 15 12:59:56 2005
+++ xarchive-0.2.8-6/wrappers/arj.src	Sat Mar 22 13:01:15 2008
@@ -52,9 +52,9 @@
 # the shifting will leave the files passed as
 # all the remaining args: "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # Command line options for prog functions
 NEW_OPTS="a"
--- xarchive-0.2.8-6.old/wrappers/deb.src	Tue Nov  8 17:49:13 2005
+++ xarchive-0.2.8-6/wrappers/deb.src	Sat Mar 22 13:01:15 2008
@@ -40,9 +40,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 
 # Command line options for prog functions
--- xarchive-0.2.8-6.old/wrappers/rar.src	Mon Nov 14 21:41:21 2005
+++ xarchive-0.2.8-6/wrappers/rar.src	Sat Mar 22 13:01:15 2008
@@ -53,9 +53,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # Command line options for prog functions
 # disable comments when opening
--- xarchive-0.2.8-6.old/wrappers/rpm-bsd.src	Tue Nov  8 17:49:13 2005
+++ xarchive-0.2.8-6/wrappers/rpm-bsd.src	Sat Mar 22 13:01:16 2008
@@ -42,9 +42,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # the option switches
 case "$opt" in
--- xarchive-0.2.8-6.old/wrappers/rpm-gnu.src	Tue Nov  8 17:49:13 2005
+++ xarchive-0.2.8-6/wrappers/rpm-gnu.src	Sat Mar 22 13:01:16 2008
@@ -41,9 +41,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # the option switches
 case "$opt" in
--- xarchive-0.2.8-6.old/wrappers/tar-bsd.src	Tue Nov  8 20:51:54 2005
+++ xarchive-0.2.8-6/wrappers/tar-bsd.src	Sat Mar 22 13:01:16 2008
@@ -43,9 +43,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # set up compression variables for our compression functions. 
 # translate archive name to lower case for pattern matching.
--- xarchive-0.2.8-6.old/wrappers/tar-gnu.src	Tue Nov  8 20:50:59 2005
+++ xarchive-0.2.8-6/wrappers/tar-gnu.src	Sat Mar 22 13:16:15 2008
@@ -42,9 +42,9 @@
 # the shifting will leave the files passed as
 # all the remaining args "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # set up compression variables for our compression functions. 
 # translate archive name to lower case for pattern matching.
@@ -54,14 +54,14 @@
     if [ $(expr "$lc_archive" : ".*\."$ext"$") -gt 0 ]; then
         DECOMPRESS="gzip -dc"
         COMPRESS="gzip -c"
-        TAR_COMPRESS_OPT="--use-compress-prog=gzip"
+        TAR_COMPRESS_OPT="z"
     fi
 done
 for ext in $BZIP2_EXTS; do
     if [ $(expr "$lc_archive" : ".*\."$ext"$") -gt 0 ]; then
         DECOMPRESS="bzip2 -dc" 
         COMPRESS="bzip2 -c"
-        TAR_COMPRESS_OPT="--use-compress-prog=bzip2"
+        TAR_COMPRESS_OPT="j"
     fi
 done
 for ext in $COMPRESS_EXTS; do
@@ -76,8 +76,8 @@
 # open and extract can use tar's cmd line option
 # add, new, and remove need to decompress the tar first
 # do their thing, than recompress the tar.
-OPEN_OPTS="$TAR_COMPRESS_OPT -tvf"
-EXTRACT_OPTS="$TAR_COMPRESS_OPT -xf"
+OPEN_OPTS="-tv${TAR_COMPRESS_OPT}f"
+EXTRACT_OPTS="-x${TAR_COMPRESS_OPT}f"
 ADD_OPTS="-rf"
 NEW_OPTS="-cf"
 REMOVE_OPTS="--delete -f"
@@ -206,11 +206,12 @@
         ;;
 
     -r) # remove: from archive passed files 
-        decompress_func
-        $TAR_PROG $REMOVE_OPTS "$archive" "$@"
-        wrapper_status=$?
-        compress_func
-        exit $wrapper_status
+        #decompress_func
+        #$TAR_PROG $REMOVE_OPTS "$archive" "$@"
+        #wrapper_status=$?
+        #compress_func
+        #exit $wrapper_status
+        exit $E_UNSUPPORTED
         ;;
 
     -e) # extract: from archive passed files 
--- xarchive-0.2.8-6.old/wrappers/zip.src	Tue Nov 15 13:02:08 2005
+++ xarchive-0.2.8-6/wrappers/zip.src	Sat Mar 22 13:01:16 2008
@@ -51,9 +51,9 @@
 # the shifting will leave the files passed as
 # all the remaining args: "$@"
 opt="$1"
-shift 1
+test -z $1 || shift 1
 archive="$1"
-shift 1
+test -z $1 || shift 1
 
 # Command line options for prog functions
 
--- xarchive-0.2.8-6/xarchive.desktop.src	
+++ xarchive-0.2.8-6/xarchive.desktop.src	
@@ -12,7 +12,7 @@
 Comment[en_GB]=Create, modify and browse an archive
 GenericName=Archive Manager
 
-Categories=Gtk;Application;System;Utility;
+Categories=Gtk;Utility;
 Exec=xarchive %F
 Icon=/path/to/icons/xarchive.xpm
 StartupNotify=true

--- xarchive-0.2.8-6/src/main.c
+++ xarchive-0.2.8-6/src/main.c
@@ -178,6 +178,10 @@
     {
       ext = (gchar *) g_ptr_array_index(wrapent->ext_array, e);
       g_string_append_printf(info_text,"%s ", ext);
+      if (e % 10 == 9)
+      {
+        g_string_append_printf(info_text,"\n                 ");
+      }
     }
     g_string_append_c(info_text, '\n');
   }
