# SliTaz package receipt.

PACKAGE="blender"
VERSION="2.49b"
CATEGORY="graphics"
SHORT_DESC="3D content creation suite."
MAINTAINER="pankso@slitaz.org"
TARBALL="$PACKAGE-$VERSION-linux-glibc236-py25-i386.tar.bz2"
DEPENDS="python mesa libsdl libdrm jpeg libglu"
SUGGESTED="nvidia"
WEB_SITE="http://www.blender.org/"
WGET_URL="http://download.blender.org/release/Blender${VERSION}/$TARBALL"
TAGS="3D creator editor"

# Rules to configure and make the package.
compile_rules()
{
	mv blender-$VERSION-linux-glibc236-py25-i386 \
		$PACKAGE-$VERSION 2>/dev/null || continue
	cd $src
	mkdir -p _pkg/usr/share
	mv .blender/locale _pkg/usr/share 2>/dev/null
	#cd plugins && make
	rm -rf ../taz
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	LOCALE="fr de pt_BR es zh_CN"
	mkdir -p $fs/usr/bin $fs/usr/share/pixmaps
	cp -a $src/blender $fs/usr/bin/blender-bin
	cp stuff/blender $fs/usr/bin
	cp -a $src/.blender $fs/usr/share/blender
	cp -a $src/blenderplayer $fs/usr/bin
	cp -a $src/icons/32x32/blender.png $fs/usr/share/pixmaps
}
