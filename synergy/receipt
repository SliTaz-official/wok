# SliTaz package receipt.

PACKAGE="synergy"
VERSION="1.3.1"
CATEGORY="x-window"
SHORT_DESC="Synergy keyboard and mouse sharing."
MAINTAINER="rcx@zoominternet.net"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://synergy2.sourceforge.net/"
WGET_URL="http://internap.dl.sourceforge.net/synergy2/$TARBALL"
DEPENDS="xorg-libXtst xorg-libSM xorg-libICE xorg-libXinerama gcc-lib-base"
BUILD_DEPENDS="xorg-dev-proto xorg-libXtst-dev"

# Rules to configure and make the package.
compile_rules()
{
	busybox patch -p0 -i stuff/synergy-1.3.1_glibc-2.10.u || exit 1
		
	cd $src
	./configure \
		--sysconfdir=/etc \
		--prefix=/usr \
		--mandir=/usr/share/man \
		--infodir=/usr/share/info \
		$CONFIGURE_ARGS &&
	make &&
	make DESTDIR=$PWD/_pkg install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr
	cp -a $_pkg/usr/bin $fs/usr
}
