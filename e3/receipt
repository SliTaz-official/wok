# SliTaz package receipt.

PACKAGE="e3"
VERSION="2.82"
CATEGORY="utilities"
TAGS="text-editor"
SHORT_DESC="A full featured text editor written in NASM assembler."
MAINTAINER="devl547@gmail.com"
LICENSE="GPL2"
WEB_SITE="https://sites.google.com/site/e3editor"

TARBALL="$PACKAGE-$VERSION.tgz"
WGET_URL="https://web.archive.org/web/20201006173606if_/https://2b6d7e20-a-62cb3a1a-s-sites.googlegroups.com/site/e3editor/Home/e3-2.82.tgz?attachauth=ANoY7co7qKHGOGdmIuUbZEtPROa4XOwpAcAezJgsHkzCJF0SuXam6IqbJDjyvaLjRSWa0HjJNPUPn9KWjbeijGmkAh_7zKfF7f40NYdESskkh7SgmzFBUJLaYn_xr_x9FBRTZCunG71kbWLhpKIC3ZqVmgRTmq3wQ1ryPARnEjT7BRwDZtvElgsSA0fmK3-nXNezVLX_S5ewlrwqsJnbT_nGxKdkIqFHIg%3D%3D&attredirects=0"

DEPENDS=""
BUILD_DEPENDS="make nasm"

# Rules to configure and make the package.
compile_rules()
{
	sed -i -e 's/-D$(EXMODE)//' Makefile &&
	sed -i -e 's#/man/man#/share/man/man#' Makefile

	make &&
	make PREFIX=$DESTDIR install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr

	cp -R $install/bin	$fs/usr
	for i in $(cd $fs/usr/bin; ls e3?*)
	  do
		rm -f		$fs/usr/bin/$i
		ln -s e3	$fs/usr/bin/$i
	  done
}
