# SliTaz package receipt.

PACKAGE="iptables"
VERSION="1.4.0"
CATEGORY="security"
SHORT_DESC="Packet filtering framework (Firewall)."
MAINTAINER="pankso@slitaz.org"
DEPENDS="linux"
TARBALL="$PACKAGE-$VERSION.tar.bz2"
WEB_SITE="http://www.netfilter.org/"
WGET_URL="http://www.netfilter.org/projects/iptables/files/$TARBALL"

# Set the right Kernel path to compile.
KERNEL_PATH="$WOK/linux/linux-2.6.24.2"

# Rules to configure and make the package.
compile_rules()
{
	cd $src
	make KERNEL_DIR=$KERNEL_PATH BINDIR=/sbin \
	LIBDIR=/lib MANDIR=/usr/share/man
	# Install in $PWD_pkg dir.
	make KERNEL_DIR=$KERNEL_PATH BINDIR=/sbin \
	LIBDIR=/lib MANDIR=/usr/share/man \
	DESTDIR=$PWD/_pkg install
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/sbin
	# Sbin.
	cp -a $_pkg/sbin/iptables* $fs/sbin
	# Libs.
	cp -a $_pkg/lib $fs
}
