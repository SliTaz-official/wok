# SliTaz package receipt.

PACKAGE="ecm"
VERSION="1.03"
CATEGORY="misc"
SHORT_DESC="Converts CD image files into a lossless format optimized for compression tools"
MAINTAINER="slaxemulator@gmail.com"
LICENSE="GPL3"
SOURCE="cmdpack"
TARBALL="$SOURCE-${VERSION}-src.tar.gz"
WEB_SITE="https://web.archive.org/web/20140328062622/http://www.neillcorlett.com/ecm/"
WGET_URL="http://www.neillcorlett.com/downloads/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
	cd $src/src
	mkdir -p $DESTDIR/usr/bin
	for i in *.c; do
		echo "Compile $i..."
		./mkgcc ${i%.c} || return 1
		cp -a ${i%.c} $DESTDIR/usr/bin
	done
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/bin
	cp -a $install/usr/bin/ecm $fs/usr/bin
	ln -sf ecm $fs/usr/bin/unecm
}

