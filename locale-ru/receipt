# SliTaz package receipt

PACKAGE="locale-ru"
VERSION="4.1"
CATEGORY="system-tools"
SHORT_DESC="Russian locale pack."
MAINTAINER="pankso@slitaz.org"
LICENSE="GPL3"
WEB_SITE="http://www.slitaz.org/"

WANTED="glibc slitaz-i18n xorg-libX11"
DEPENDS="glibc-base"

LOCALE="ru"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	. $WOK/slitaz-i18n/stuff/locale-pack.functions
	. $WOK/slitaz-i18n/stuff/locale-pack.conf
	get_locale

	# country flags used in the some dialogs
	usih=usr/share/icons/hicolor
	for size in 16x16 48x48; do
		mkdir -p $fs/$usih/$size/intl
		cp -a $stuff/$size/* $fs/$usih/$size/intl
	done

	# keyboard flags for default lxpanel keyboard applet
	uslix=usr/share/lxpanel/images/xkb-flags
	mkdir -p $fs/$uslix
	for i in us ru ua; do
		ln -s /$usih/16x16/intl/$(echo $i | tr a-z A-Z).png $fs/$uslix/$i.png
	done

	# above icons credits
	fusl=$fs/usr/share/licenses
	mkdir -p $fusl
	cp -a $stuff/LICENSE.txt $fusl/gosquared.txt
}

# Back to C if it's the last used locale.
post_remove()
{
	echo -e "LANG=C\nLC_ALL=C" > /etc/locale.conf
}
