# SliTaz package receipt.

PACKAGE="squashfs-module"
VERSION="3.3"
CATEGORY="base-system"
SHORT_DESC="Linux squashfs module."
MAINTAINER="pascal.bellard@slitaz.org"
DEPENDS="linux"
WEB_SITE="http://squashfs.sourceforge.net/"
WANTED="squashfs"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	kver=$(grep "kernel version" ../linux/$(ls ../linux/taz)/.config)
	kver=${kver##* }
	EXTRAVERSION=_$kver
	cp -a $src/_pkg/lib $fs
}

# Post install/remove commands for Tazpkg.
post_install()
{
	chroot "$1/" depmod -a ${EXTRAVERSION#_}-slitaz
}

post_remove()
{
	depmod -a
}
