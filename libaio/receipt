# SliTaz package receipt.

PACKAGE="libaio"
VERSION="0.3.92"
CATEGORY="misc"
SHORT_DESC="Linux-native asynchronous I/O access library."
MAINTAINER="pascal.bellard@slitaz.org"
LICENSE="LGPL2.1"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="https://www.kernel.org/pub/linux/kernel/people/bcrl/aio/"
WGET_URL="${WEB_SITE}$TARBALL"

DEPENDS=""
BUILD_DEPENDS=""

# Rules to configure and make the package.
compile_rules()
{
	sed -i 's|uname -m|echo i486|' src/Makefile
	make prefix=/usr
}

# Rules to gen a SliTaz package suitable for Tazpkg.   
genpkg_rules()                                      
{
	mkdir -p $fs/usr/lib
	install -D -m 755 $src/src/libaio.so.1 $fs/usr/lib/libaio.so.1
	ln -sf libaio.so.1 $fs/usr/lib/libaio.so
}

