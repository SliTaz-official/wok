# SliTaz package receipt.

PACKAGE="st"
VERSION="0.5"
CATEGORY="x-window"
SHORT_DESC="St is a simple terminal implementation for X."
MAINTAINER="pankso@slitaz.org"
LICENSE="BSD"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://st.suckless.org/"
WGET_URL="http://dl.suckless.org/st/$TARBALL"
#HOST_ARCH="i486 arm"

DEPENDS="xorg-libX11 xorg-libXft fontconfig freetype ncursesw-extra"
BUILD_DEPENDS="xorg-libX11-dev xorg-libXft-dev fontconfig-dev \
freetype-dev"

# Rules to configure and make the package.
compile_rules()
{
	make CC=${HOST_SYSTEM}-gcc
}

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
	mkdir -p $fs/usr/bin $fs/usr/share/${PACKAGE}
	cp -a ${src}/${PACKAGE} $fs/usr/bin
	cp ${src}/st.info $fs/usr/share/${PACKAGE}
}

post_install()
{
	chroot $1/ tic -s /usr/share/${PACKAGE}/st.info
}
