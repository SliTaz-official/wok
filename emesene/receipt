# SliTaz package receipt.

PACKAGE="emesene"
VERSION="1.0.1"
CATEGORY="network"
SHORT_DESC="Instant messaging client for Windows Live Messenger (tm) network."
MAINTAINER="rocky@slitaz.org"
DEPENDS="python pygtk pycairo pysqlite"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://www.emesene.org"
WGET_URL="$SF_MIRROR/$PACKAGE/$TARBALL"

# Rules to configure and make the package.
compile_rules()
{
    cd $src
    while read file; do
        [ -f done.$file ] && continue
        echo "Apply $file..."
        patch -p1 < ../stuff/$file || return 1
        touch done.$file
    done <<EOT
slitaz-openbox.patch
EOT
}


# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{
    mkdir -p $fs/usr/bin \
        $fs/usr/share/emesene \
        $fs/usr/share/pixmaps \
        $fs/usr/share/applications

    cp stuff/emesene $fs/usr/bin
    cp -a $src/* $fs/usr/share/emesene
    cp $fs/usr/share/emesene/misc/emesene.png $fs/usr/share/pixmaps
    cp $fs/usr/share/emesene/misc/emesene.desktop $fs/usr/share/applications

    rm -rf $fs/usr/share/emesene/misc
    rm -rf $fs/usr/share/emesene/po
    rm -rf $fs/usr/share/emesene/doc
}
