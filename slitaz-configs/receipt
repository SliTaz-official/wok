# SliTaz package receipt.

PACKAGE="slitaz-configs"
VERSION="1.5"
CATEGORY="base-system"
SHORT_DESC="SliTaz JWM config, wallparer and login sound."
MAINTAINER="pankso@slitaz.org"
DEPENDS="slitaz-tools xorg-libXcomposite xorg-libXdamage xorg-xcompmgr 
             transset-df tazlito tazpkg slitaz-doc"
TARBALL="$PACKAGE-$VERSION.tar.gz"
WEB_SITE="http://www.slitaz.org/"
WGET_URL="http://download.tuxfamily.org/slitaz/sources/base-files/$TARBALL"

# Rules to gen a SliTaz package suitable for Tazpkg.
genpkg_rules()
{	
    # Copy all rootfs from the stuff and set permissions.
    cp -a $src/rootfs/* $fs
	chown -R root.root $fs/*
}

# Pre and post install to backup all current JWM config.
#
pre_install()
{
	local root
	root=$1
	echo ""
	echo "Creating backup of JWM system configuration..."
	cp -a $root/etc/jwm/system.jwmrc $root/etc/jwm/system.jwmrc.bak 2>/dev/null
	echo ""
}
